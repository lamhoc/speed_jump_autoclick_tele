-- UI Roblox hi·ªán ƒë·∫°i v·ªõi t·∫•t c·∫£ t√≠nh nƒÉng trong 1 m·ª•c

local Players = game:GetService("Players")

local ReplicatedStorage = game:GetService("ReplicatedStorage")

local LocalPlayer = Players.LocalPlayer



local TeleportPosition = Vector3.new(0, 0, 0)

local autoClickEnabled = false

local clickThread

local selectedPlayer = nil



local screenGui = Instance.new("ScreenGui")

screenGui.Name = "ModernModMenu"

screenGui.ResetOnSpawn = false

screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")



-- N√∫t toggle menu (b√°nh rƒÉng)

local toggleButton = Instance.new("ImageButton")

toggleButton.Size = UDim2.new(0, 40, 0, 40)

toggleButton.Position = UDim2.new(1, -50, 1, -50)

toggleButton.BackgroundTransparency = 1

toggleButton.Image = "rbxassetid://6031091002" -- icon "cog"

toggleButton.Parent = screenGui



-- Frame menu ch√≠nh

local frame = Instance.new("Frame", screenGui)

frame.Size = UDim2.new(0, 320, 0, 350)

frame.Position = UDim2.new(0, 20, 0, 20)

frame.BackgroundColor3 = Color3.fromRGB(35, 40, 55)

frame.BorderSizePixel = 0

frame.Visible = false

frame.Active = true

frame.Draggable = true

frame.ClipsDescendants = true

frame.BackgroundTransparency = 0.05

frame.AnchorPoint = Vector2.new(0, 0)



-- Bo g√≥c ƒë·∫πp

local corner = Instance.new("UICorner", frame)

corner.CornerRadius = UDim.new(0, 12)



-- Ti√™u ƒë·ªÅ

local title = Instance.new("TextLabel", frame)

title.Size = UDim2.new(1, 0, 0, 40)

title.BackgroundTransparency = 1

title.Text = "üéÆ Roblox Utility Menu"

title.Font = Enum.Font.GothamBold

title.TextColor3 = Color3.fromRGB(255, 255, 255)

title.TextSize = 20



-- UI Grid layout

local layout = Instance.new("UIListLayout", frame)

layout.SortOrder = Enum.SortOrder.LayoutOrder

layout.Padding = UDim.new(0, 8)

layout.VerticalAlignment = Enum.VerticalAlignment.Top

layout.HorizontalAlignment = Enum.HorizontalAlignment.Center



title.LayoutOrder = 0



-- Helper t·∫°o khung m·ªói d√≤ng

local function createContainer(height)

    local container = Instance.new("Frame")

    container.Size = UDim2.new(0.9, 0, 0, height)

    container.BackgroundTransparency = 1

    container.LayoutOrder = layout.AbsoluteContentSize.Y

    container.Name = "Row"

    return container

end



-- Helper t·∫°o TextBox

local function createTextBox(labelText, defaultValue, callback)

    local container = createContainer(36)

    local label = Instance.new("TextLabel", container)

    label.Size = UDim2.new(0.4, 0, 1, 0)

    label.Text = labelText

    label.BackgroundTransparency = 1

    label.Font = Enum.Font.Gotham

    label.TextColor3 = Color3.fromRGB(220, 220, 220)

    label.TextSize = 16

    label.TextXAlignment = Enum.TextXAlignment.Left



    local textBox = Instance.new("TextBox", container)

    textBox.Size = UDim2.new(0.6, -8, 1, 0)

    textBox.Position = UDim2.new(0.4, 8, 0, 0)

    textBox.Text = tostring(defaultValue)

    textBox.Font = Enum.Font.GothamSemibold

    textBox.TextSize = 16

    textBox.BackgroundColor3 = Color3.fromRGB(50, 60, 80)

    textBox.TextColor3 = Color3.fromRGB(255, 255, 255)

    Instance.new("UICorner", textBox).CornerRadius = UDim.new(0, 6)



    textBox.FocusLost:Connect(function(enter)

        if enter then

            callback(tonumber(textBox.Text))

        end

    end)



    container.Parent = frame

end



-- Helper t·∫°o n√∫t

local function createButton(text, callback)

    local btn = Instance.new("TextButton")

    btn.Size = UDim2.new(0.9, 0, 0, 36)

    btn.Text = text

    btn.BackgroundColor3 = Color3.fromRGB(70, 130, 180)

    btn.TextColor3 = Color3.fromRGB(255, 255, 255)

    btn.Font = Enum.Font.GothamBold

    btn.TextSize = 16

    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

    btn.MouseEnter:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(90, 150, 200) end)

    btn.MouseLeave:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(70, 130, 180) end)

    btn.MouseButton1Click:Connect(callback)

    btn.Parent = frame

end



-- Helper t·∫°o checkbox

local function createCheckbox(text, callback)

    local btn = Instance.new("TextButton")

    btn.Size = UDim2.new(0.9, 0, 0, 36)

    btn.Text = "‚òê " .. text

    btn.BackgroundColor3 = Color3.fromRGB(90, 90, 90)

    btn.TextColor3 = Color3.fromRGB(255, 255, 255)

    btn.Font = Enum.Font.Gotham

    btn.TextSize = 16

    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)



    local enabled = false

    btn.MouseButton1Click:Connect(function()

        enabled = not enabled

        btn.Text = (enabled and "‚òë " or "‚òê ") .. text

        callback(enabled)

    end)



    btn.Parent = frame

end



-- Kh·ªüi t·∫°o giao di·ªán duy nh·∫•t

createTextBox("Speed", 16, function(val)

    local h = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")

    if h then h.WalkSpeed = val end

end)



createTextBox("Jump", 50, function(val)

    local h = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")

    if h then h.JumpPower = val end

end)



createButton("üìå L∆∞u v·ªã tr√≠", function()

    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")

    if hrp then

        TeleportPosition = hrp.Position

        print("V·ªã tr√≠ ƒë√£ l∆∞u:", TeleportPosition)

    end

end)



createButton("üß≠ Teleport", function()

    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")

    if hrp then

        hrp.CFrame = CFrame.new(TeleportPosition)

        print("ƒê√£ teleport ƒë·∫øn:", TeleportPosition)

    end

end)



createCheckbox("‚ö° Auto Click", function(enabled)

    autoClickEnabled = enabled

    if enabled then

        if not clickThread or coroutine.status(clickThread) == "dead" then

            clickThread = coroutine.create(function()

                while autoClickEnabled do

                    local remote = ReplicatedStorage:FindFirstChild("Events") and ReplicatedStorage.Events:FindFirstChild("Click")

                    if remote then

                        local success, err = pcall(function()

                            remote:FireServer()

                        end)

                        if not success then

                            warn("L·ªói Auto Click:", err)

                        end

                    end

                    task.wait(0.1)

                end

            end)

            coroutine.resume(clickThread)

        end

    else

        if clickThread and coroutine.status(clickThread) ~= "dead" then

            coroutine.close(clickThread)

        end

    end

end)



-- Danh s√°ch ch·ªçn ng∆∞·ªùi ch∆°i

local playerDropdown = Instance.new("TextButton")

playerDropdown.Size = UDim2.new(0.9, 0, 0, 36)

playerDropdown.Text = "üë§ Select Player"

playerDropdown.BackgroundColor3 = Color3.fromRGB(50, 60, 80)

playerDropdown.TextColor3 = Color3.fromRGB(255, 255, 255)

playerDropdown.Font = Enum.Font.GothamBold

playerDropdown.TextSize = 16

Instance.new("UICorner", playerDropdown).CornerRadius = UDim.new(0, 6)

playerDropdown.Parent = frame



local playerListFrame = Instance.new("Frame")

playerListFrame.Size = UDim2.new(0.9, 0, 0, 0)

playerListFrame.BackgroundColor3 = Color3.fromRGB(35, 40, 55)

playerListFrame.BorderSizePixel = 0

playerListFrame.Visible = false

Instance.new("UICorner", playerListFrame).CornerRadius = UDim.new(0, 6)

playerListFrame.Parent = frame

local playerLayout = Instance.new("UIListLayout", playerListFrame)

playerLayout.SortOrder = Enum.SortOrder.LayoutOrder

playerLayout.Padding = UDim.new(0, 4)



playerDropdown.MouseButton1Click:Connect(function()

    playerListFrame.Visible = not playerListFrame.Visible

    if playerListFrame.Visible then

        local playerList = Players:GetPlayers()

        if #playerList > 0 and LocalPlayer then

            playerListFrame.Size = UDim2.new(0.9, 0, 0, math.min(#playerList * 30, 150))

            for _, child in pairs(playerListFrame:GetChildren()) do

                if child ~= playerLayout then child:Destroy() end

            end

            for _, player in pairs(playerList) do

                if player ~= LocalPlayer then

                    local success, playerBtn = pcall(function()

                        local btn = Instance.new("TextButton")

                        btn.Size = UDim2.new(1, 0, 0, 30)

                        btn.Text = player.Name

                        btn.BackgroundColor3 = Color3.fromRGB(70, 130, 180)

                        btn.TextColor3 = Color3.fromRGB(255, 255, 255)

                        btn.Font = Enum.Font.Gotham

                        btn.TextSize = 14

                        Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 4)

                        btn.MouseButton1Click:Connect(function()

                            selectedPlayer = player

                            playerDropdown.Text = "üë§ Selected: " .. player.Name

                            playerListFrame.Visible = false

                        end)

                        return btn

                    end)

                    if success and playerBtn then

                        playerBtn.Parent = playerListFrame

                    else

                        warn("L·ªói t·∫°o n√∫t cho ng∆∞·ªùi ch∆°i:", player.Name)

                    end

                end

            end

        else

            playerListFrame.Size = UDim2.new(0.9, 0, 0, 0)

            warn("Kh√¥ng c√≥ ng∆∞·ªùi ch∆°i kh√°c trong server ho·∫∑c LocalPlayer kh√¥ng t·ªìn t·∫°i!")

        end

    end

end)



-- N√∫t Teleport ƒë·∫øn ng∆∞·ªùi ch∆°i ƒë√£ ch·ªçn

createButton("üß≠ Teleport to Selected", function()

    if selectedPlayer and selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart") then

        local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")

        if hrp then

            hrp.CFrame = selectedPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 5, 0) -- Teleport g·∫ßn ng∆∞·ªùi ch∆°i

            print("ƒê√£ teleport ƒë·∫øn:", selectedPlayer.Name)

        end

    else

        print("Vui l√≤ng ch·ªçn ng∆∞·ªùi ch∆°i tr∆∞·ªõc!")

    end

end)



-- Toggle menu

toggleButton.MouseButton1Click:Connect(function()

    frame.Visible = not frame.Visible

end)
